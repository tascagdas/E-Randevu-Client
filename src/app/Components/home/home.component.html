<div class="mt-3 d-flex justify-content-between align-items-center">
  <h3>Anasayfa</h3>
</div>

<div class="mt-2">
  <div class="row">
    <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 mt-1">
      <label>Departman:</label>
      <select
        name="department"
        class="form-control"
        [(ngModel)]="selectedDepartmentValue"
      >
        <option [value]="-1">Seçiniz...</option>
        @for (department of departments; track department.value) {
        <option [value]="department.value">{{ department.name }}</option>
        }
      </select>
    </div>

    @if(selectedDepartmentValue > -1){
    <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 mt-1">
      <label>Doktor</label>
      <select name="doctor" class="form-control" [(ngModel)]="selectedDoctorId">
        <option [value]="0">Doktor Seçiniz...</option>
        @for (doctor of doctors; track doctor.doctorId) {
        <option [value]="doctor.doctorId">{{ doctor.fullName }}</option>
        }
      </select>
    </div>
    }
  </div>
  @if(selectedDoctorId){
  <div class="mt-2">
    <dx-scheduler
      id="scheduler"
      [dataSource]="appointments"
      textExpr="title"
      allDayExpr="allDay"
      recurrenceRuleExpr="recurrence"
      [(currentDate)]="currentDate"
      currentView="week"
      [startDayHour]="9"
      [endDayHour]="17"
      [showAllDayPanel]="false"
    >
      <!-- Configuration goes here -->
    </dx-scheduler>
  </div>
  }
</div>
